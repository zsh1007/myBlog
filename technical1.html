<!DOCTYPE html>
<html>
<head>
    <title>zsh&lxy个人博客</title>
    <meta charset="utf-8">
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/style.css" rel="stylesheet" />
    <script type="text/javascript" src="./js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="./js/bootstrap.min.js"></script>
    <script type="text/javascript" src="./js/js.js"></script>
</head>
<body>
<div class="blog-top">
    <ul class="top-box">
        <li><a href="#">我的BLOG</a></li>
        <li><a href="#">技术分享</a></li>
        <li><a href="#">联系我们</a></li>
    </ul>
    <div class="top-head">
        <div class="title-area">
            <h1 class="site-title" itemprop="headline"><a rel="home">ZSH&LXY个人博客</a></h1>
            <h3 class="site-description"><span>share your knowledge with us</span></h3>
        </div>
    </div>
</div>
<div class="middle-box">
    <div class="page-header">
        <h1>mui事件封装成angular的指令</h1>
    </div>
    <div class="mp20">
        <p>
            angular + mui点击事件无法触发脏检查的问题，通过 angular指令对原生 js的 onchange事件的封装解决这个问题
        </p>
        <p>
            ngModule.directive(&#39;fileInput&#39;, [&#39;$parse&#39;,
        </p>
        <p>
            &nbsp; &nbsp; function($parse) {
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; return {
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; restrict: &quot;EA&quot;,
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; template: &quot;&lt;input type=&#39;file&#39;/&gt;&quot;,
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; replace: true,
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; link: function(scope, element, attrs) {
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var modelGet = $parse(attrs.fileInput);
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var modelSet = modelGet.assign;
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var onChange = $parse(attrs.onChange);
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var updateModel = function() {
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; scope.$apply(function() {
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; modelSet(scope, element[0].files[0]);
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; onChange(scope);
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; });
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; element.bind(&#39;change&#39;, updateModel);
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }
        </p>
        <p>
            &nbsp; &nbsp; &nbsp; &nbsp; };
        </p>
        <p>
            &nbsp; &nbsp; }
        </p>
        <p>
            ])
        </p>
        <p>
            <br/>
        </p>
    </div>



























    <div class="mp20">
        <nav aria-label="...">
            <ul class="pager">
                <li>
                    <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                <li><a class="activity" href="https://zsh1007.github.io/myBlog//technical1.html">1</a></li>
                <li><a href="https://zsh1007.github.io/myBlog//technical2.html">2</a></li>
                <li><a href="https://zsh1007.github.io/myBlog//technical3.html">3</a></li>
                <li>
                    <a href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
</div>

</body>
</html>